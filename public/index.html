<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Number Input Form</title>
  <button type="button" onclick="startAnalyst()">Start analyst</button>
  <script>
    // Function to make AJAX request and call Node.js function
    function startAnalyst() {
      // Make AJAX request to the server endpoint
      var xhr = new XMLHttpRequest();
      xhr.open('POST', '/start-analyst', true);
      xhr.setRequestHeader('Content-Type', 'application/json');
      xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE) {
          if(xhr.status === 200){
            alert('Analyst started successfully');
          }
          else if(xhr.status === 409){
            alert('Analyst already exists!');
          }
        }
      };
      xhr.send(JSON.stringify({ data: "" }));
    }
  </script>
</head>
<body>
  <form action="/" method="post">
    <label for="numberInput">Enter a Number:</label>
    <input type="text" id="numberInput" name="numberInput" pattern="[0-9]*" required>
    <button type="button" onclick="clientlogic()">Submit</button>
  </form>
  <script>
  // Function to make AJAX request and call Node.js function
  function clientlogic() {
    var inputData = document.getElementById('numberInput').value;
    if (!inputData) {
      alert("please enter a number");
      return; // Exit function if input is empty
    }

    const xhr = new XMLHttpRequest();
    xhr.open("POST", "/share-input");
    xhr.setRequestHeader("Content-Type", "application/json; charset=UTF-8");
    const body = JSON.stringify({
      input: inputData,
    });
    xhr.onreadystatechange = function () {
      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
        alert('Input shared successfully');
      }
    };
    xhr.send(body);
  }
</script>

</body>
</html>





<!DOCTYPE html>
<html id="html"lang="en">
<head>
  <meta charset="UTF-8">
  <title>Questionnaire</title>
</head>
<body id="body">
  <h1 id="title">Anonymous Adolescent Drug Use Questionnaire</h1>
  <hr>
  
  <h3>**Insert introduction to the tool and why MPC enables the questionaire to be submitted completely anonymously while also viewing the analytics collected.** **Also motivation for the tool? (Why would the users want to see the analytics)**</h3>
  
  <button id="start"type="start">Start Questionaire</button>
  
   <div id="questionaire" style="display: none;">
   
  <p>What is your age?</p>
  <input type="number" name="age" id="age" value="10"placeholder="Input your age here:" required>
  <br>

  <p>What is your gender?</p>
  <input type="radio" id="gender_woman" name="gender" value="woman"> Woman<br>
  <input type="radio" id="gender_man" name="gender" value="man"> Man<br>
  <input type="radio" id="gender_nonbinary" name="gender" value="nonbinary">  Nonbinary<br>
  <input type="radio" id="gender_unspecified" name="gender" value="unspecified" checked>  Prefer not to say<br>
  


  
   <p>Have you ever used drugs, including alcohol?</p>
  <ul id = "truefalse">
    <li>
      <input type="radio" id="yes" name="truefalse" value="yes" > Yes
      <input type="radio" id="no" name="truefalse" value="no" > No
    </li>
  </ul>

 
     </div>

  <div id="remaining_questions" style="display: none;">
  <p>How many days have you had ≥ 5 (male) or ≥ 4 (female) alcoholic drinks in two hour period over the last month?</p>
  <input type="number" name="frequency" id="frequency"placeholder="Input a number here:">
  <br>

  <p>Why did you start using drugs? For each item that is true for you, rank the following reasons from most important (1) to least important (5):</p>
  <ul id = "rank">
    <li>Curiosity</li>
      <li>
        <select id="rank_feature1" name="rank_feature1">
          <option value="">--</option> 
          <option value="1">1 (Most Important)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
           <option value="5">5 (Least Important)</option> 
        </select>
      </li>
      <li>Joy Seeking</li>
      <li>
        <select id="rank_feature2" name="rank_feature2">
          <option value="">--</option>
          <option value="1">1 (Most Important)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Least Important)</option> 

        </select>
      </li>
      <li>To help sleep</li>
      <li>
        <select id="rank_feature3" name="rank_feature3">
          <option value="">--</option>
          <option value="1">1 (Most Important)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Least Important)</option> 

        </select>
        </li>
        <li>Psychological Disorder</li>
        <li>
            <select id="rank_feature3" name="rank_feature3">
              <option value="">--</option>
              <option value="1">1 (Most Important)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Least Important)</option> 
    
            </select>
        </li>
        <li>Low self-confidence</li>
        <li>
            <select id="rank_feature3" name="rank_feature3">
              <option value="">--</option>
              <option value="1">1 (Most Important)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Least Important)</option> 
    
            </select>
          </li>
        <li>Lack of Amusement facilities</li>
        <li>
            <select id="rank_feature3" name="rank_feature3">
            <option value="">--</option>
            <option value="1">1 (Most Important)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Least Important)</option> 
    
            </select>
        </li>
        <li>Friends were doing it</li>
        <li>
            <select id="rank_feature3" name="rank_feature3">
                <option value="">--</option>
                <option value="1">1 (Most Important)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Least Important)</option> 
    
            </select>
            </li>
        <li>Proximity to an addicted person</li>
        <li>
            <select id="rank_feature3" name="rank_feature3">
            <option value="">--</option>
            <option value="1">1 (Most Important)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Least Important)</option> 
    
            </select>
        </li>
        <li>Low cost of drugs</li>
        <li>
            <select id="rank_feature3" name="rank_feature3">
                <option value="">--</option>
                <option value="1">1 (Most Important)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Least Important)</option> 
    
            </select>
        </li>
        <li>Boredom/free time</li>
        <li>
            <select id="rank_feature3" name="rank_feature3">
              <option value="">--</option>
              <option value="1">1 (Most Important)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Least Important)</option> 
    
            </select>
          </li>
  </ul>
  
       <button id="submit"type="submit">Submit Questionnaire</button>

  <hr>    
   </div>
   
    <script>
    const startButton = document.getElementById('start');
		const questionnaire = document.getElementById('questionaire');

		startButton.addEventListener('click', () => {
  	questionnaire.style.display = 'block';
});
  </script>
  
  <script>
    const firstTimeInput = document.getElementsByName('truefalse');
    const remainingQuestions = document.getElementById('remaining_questions');

    firstTimeInput.forEach(radio => {
      radio.addEventListener('change', (event) => {
        if (event.target.value === 'yes') {
          remainingQuestions.style.display = 'block';
        } else {
          remainingQuestions.style.display = 'none';
        }
      });
    });
  </script>
  
  <script>
    const ageInput = document.getElementById('age');
  
  ageInput.addEventListener('input', () => {
    const value = parseInt(ageInput.value); // Convert input value to a number
  
    if (value > 21) {
      ageInput.value = value-1; // Clear the input if outside the range
      alert('Please enter a value between 10 and 21.');
    } else if (value < 10){
    ageInput.value = value+1; // Clear the input if outside the range
      alert('Please enter a value between 10 and 21.');
    
    }
    
  });
    </script>
  
  
  
</body>
</html>
